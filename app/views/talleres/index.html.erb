<h1 class="text-3xl font-bold mb-6">Listado de Talleres</h1>

<div style="background: white; padding: 20px; border-radius: 8px; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
  <% if @talleres.any? %>
    <table style="width: 100%; border-collapse: collapse;">
      <thead>
        <tr style="background: #f3f4f6; border-bottom: 2px solid #d1d5db;">
          <th style="padding: 12px; text-align: left; font-weight: 600;">Nombre</th>
          <th style="padding: 12px; text-align: left; font-weight: 600;">Descripci√≥n</th>
          <th style="padding: 12px; text-align: left; font-weight: 600;">Cupos</th>
          <th style="padding: 12px; text-align: left; font-weight: 600;">Inscritos</th>
          <th style="padding: 12px; text-align: left; font-weight: 600;">Disponibles</th>
          <th style="padding: 12px; text-align: left; font-weight: 600;">Acciones</th>
        </tr>
      </thead>
      <tbody>
        <% @talleres.each do |t| %>
          <tr style="border-bottom: 1px solid #e5e7eb; hover-background: #f9fafb;">
            <td style="padding: 12px;"><strong><%= t.nombre %></strong></td>
            <td style="padding: 12px;"><%= t.descripcion %></td>
            <td style="padding: 12px;"><%= t.cupos %></td>
            <td style="padding: 12px;"><%= t.estudiantes.count %></td>
            <td style="padding: 12px;"><span style="background: #dbeafe; color: #1e40af; padding: 4px 8px; border-radius: 4px; font-weight: 600;"><%= t.cupos_restantes %></span></td>
            <td style="padding: 12px;">
              <%= link_to "üëÅÔ∏è Ver", taller_path(t.id), style: "margin-right: 10px; color: #2563eb; text-decoration: none;" %>
              <% if user_signed_in? && current_user.admin? %>
                <%= link_to "‚úèÔ∏è Editar", edit_taller_path(t.id), style: "margin-right: 10px; color: #f59e0b; text-decoration: none;" %>
                <%= link_to "üóëÔ∏è Eliminar", taller_path(t.id), method: :delete, data: { confirm: "¬øSeguro?" }, style: "color: #dc2626; text-decoration: none;" %>
              <% end %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  <% else %>
    <p style="text-align: center; color: #6b7280; padding: 20px;">No hay talleres disponibles</p>
  <% end %>
</div>

<div style="margin-top: 20px;">
  <% if user_signed_in? && current_user.admin? %>
    <%= link_to "‚ûï Crear nuevo taller", new_taller_path,
        style: "display: inline-block; padding: 10px 16px; background: #2563eb; color: white; border-radius: 6px; text-decoration: none; font-weight: 500;" %>
  <% else %>
    <%= link_to "üîê Inicia sesi√≥n para crear talleres", new_user_session_path,
        style: "display: inline-block; padding: 10px 16px; background: #e5e7eb; color: #4b5563; border-radius: 6px; text-decoration: none; font-weight: 500; border: 1px solid #d1d5db;" %>
  <% end %>
</div>
